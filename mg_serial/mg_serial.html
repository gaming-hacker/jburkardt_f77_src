<html>

  <head>
    <title>
      MG_SERIAL - NAS Parallel Benchmark MG, Serial Version, FORTRAN77
    </title>
  </head>

  <body bgcolor="#EEEEEE" link="#CC0000" alink="#FF3300" vlink="#000055">

    <h1 align = "center">
      MG_SERIAL <br> NAS Parallel Benchmark MG, Serial Version, FORTRAN77
    </h1>

    <hr>

    <p>
      <b>MG_SERIAL</b>
      is a FORTRAN77 program which
      is a serial implementation of the NAS Parallel Benchmark
      known as MG ("MultiGrid").
    </p>

    <p>
      MG_SERIAL demonstrates the capabilities of a very simple multigrid
      solver in computing a three dimensional potential field.  This is
      a simplified multigrid solver in two important respects:
      <ol>
        <li>
          it solves only a constant coefficient equation,
          and that only on a uniform cubical grid;
        </li>
        <li>
          it solves only a single equation, representing
          a scalar field rather than a vector field.
        </li>
      </ol>
    </p>

    <p>
      The NAS Parallel Benchmarks are "paper and pencil" specifications; that is, the
      proposers have laid down what the programs must do algorithmically,
      but only very general rules about computer language implementation
      have been given.  Thus, a user or vendor has enormous freedom in
      implementing the benchmark program in a way that is optimal for
      a given architecture or parallel programming scheme.
    </p>

    <p>
      As a starting point for implementors, the proposers have supplied
      certain initial versions of the benchmark programs.
    </p>

    <p>
      This directory contains material derived from one such initial
      benchmark code.  Persons interested in the original source of the
      benchmark codes should NOT work from this material, but should
      go to the NAS Parallel Benchmark website directly!
    </p>

    <p>
      The benchmark programs are available in SERIAL, MPI and OPEN_MP
      versions, and in a sequence of "classes" of increasing size: S, W, A, B, C, D and E.
    </p>

    <p>
      Statistics for classes S, W, A, B, and C are available, as run on an Apple Intel,
      using this SERIAL FORTRAN77 version of the program.
      <table border="1" align="center">
        <tr><th>Class</th><th>Size</th><th>Time (sec)</th><th>MFLOPS</th></tr>
        <tr><td>S</td><td>32^3</td><td>0.02</td><td>404</td></tr>
        <tr><td>W</td><td>128^3</td><td>1.15</td><td>423</td></tr>
        <tr><td>A</td><td>256^3</td><td>9.12</td><td>426</td></tr>
        <tr><td>B</td><td>256^3</td><td>42.59</td><td>456</td></tr>
        <tr><td>C</td><td>512^3</td><td>?</td><td>?</td></tr>
      </table>
    </p>

    <p>
      This directory contains the serial version of the benchmark, along
      with include files that allow it to run in some of the smaller sizes.
    </p>

    <p>
      The web site for the NAS Parallel Benchmarks is
      <a href = "http://www.nas.nasa.gov/Resources/Software/npb.html">
                 http://www.nas.nasa.gov/Resources/Software/npb.html</a>.
    </p>

    <h3 align = "center">
      Languages:
    </h3>

    <p>
      <b>MG_SERIAL</b> is available in
      <a href = "../../f77_src/mg_serial/mg_serial.html">a FORTRAN77 version</a>.
    </p>

    <h3 align = "center">
      Related Data and Programs:
    </h3>

    <p>
      <a href = "../../f77_src/bt_serial/bt_serial.html">
      BT_SERIAL</a>,
      a FORTRAN77 program which
      runs the serial version of the NAS Parallel Benchmark known as "BT"
      (block tridiagonal solver for 3D PDE).
    </p>

    <p>
      <a href = "../../f77_src/cg_serial/cg_serial.html">
      CG_SERIAL</a>,
      a FORTRAN77 program which
      is a serial version of the NAS Parallel Benchmark CG
      (conjugate gradient solver).
    </p>

    <p>
      <a href = "../../f77_src/ep_serial/ep_serial.html">
      EP_SERIAL</a>,
      a FORTRAN77 program which
      is a serial version of the NAS Parallel Benchmark EP
      (embarassingly parallel).
    </p>

    <p>
      <a href = "../../f77_src/fire_serial/fire_serial.html">
      FIRE_SERIAL</a>,
      a FORTRAN77program which
      simulates a forest fire over a rectangular array of trees,
      starting at a single random location.  It is intended as a starting
      point for the development of a parallel version.
    </p>

    <p>
      <a href = "../../c_src/is_serial/is_serial.html">
      IS_SERIAL</a>,
      a C program which
      is a serial version of the NAS Parallel Benchmark IS
      (integer sort).
    </p>

    <p>
      <a href = "../../f77_src/linpack_bench/linpack_bench.html">
      LINPACK_BENCH</a>,
      a FORTRAN77 program which
      measures the time taken by <b>LINPACK</b> to solve a particular linear system.
    </p>

    <p>
      <a href = "../../f77_src/matmul/matmul.html">
      MATMUL</a>,
      a FORTRAN77 program which
      is an interactive matrix multiplication benchmark.
    </p>

    <p>
      <a href = "../../f77_src/mdbnch/mdbnch.html">
      MDBNCH</a>,
      a FORTRAN77 program which
      is a benchmark molecular simulation calculation.
    </p>

    <p>
      <a href = "../../f77_src/mxm_serial/mxm_serial.html">
      MXM_SERIAL</a>,
      a FORTRAN77 program which
      sets up a matrix multiplication problem A=B*C,
      intended as a starting point for implementing a parallel version.
    </p>

    <p>
      <a href = "../../f77_src/poisson_serial/poisson_serial.html">
      POISSON_SERIAL</a>,
      a FORTRAN77 program which
      computes an approximate solution to the Poisson equation in a rectangle,
      and is intended as the starting point for the creation of a parallel version.
    </p>

    <p>
      <a href = "../../f77_src/prime_serial/prime_serial.html">
      PRIME_SERIAL</a>,
      a FORTRAN77 program which
      counts the number of primes between 1 and N,
      intended as a starting point for the creation of a parallel version.
    </p>

    <p>
      <a href = "../../f77_src/search_serial/search_serial.html">
      SEARCH_SERIAL</a>,
      a FORTRAN77 program which
      searches the integers from A to B for a value J such that F(J) = C.
      this version of the program is intended as a starting point for
      a parallel approach.
    </p>

    <p>
      <a href = "../../f77_src/subset_sum_serial/subset_sum_serial.html">
      SUBSET_SUM_SERIAL</a>,
      a FORTRAN77 program which
      seeks solutions of the subset sum problem, in which it is desired
      to find a subset of a set of integers which has a given sum;
      this version of the program is intended as a starting point for
      a parallel approach.
    </p>

    <h3 align = "center">
      Reference:
    </h3>

    <p>
      <ol>
        <li>
          David Bailey, Eric Barszcz, John Barton, D Browning, Robert Carter, Leonardo Dagum,
          Rod Fatoohi, Samuel Fineberg, Paul Frederickson, Thomas Lasinski, Robert Schreiber,
          Horst Simon, V Venkatakrishnan, Sisira Weeratunga,<br>
          The NAS Parallel Benchmarks,<br>
          International Journal of High Performane Computing Applications,<br>
          Volume 5, Number 3, September 1991, pages 63-73.
        </li>
      </ol>
    </p>

    <h3 align = "center">
      Source Code:
    </h3>

    <p>
      <ul>
        <li>
          <a href = "mg_serial.f">mg_serial.f</a>, the source code.
        </li>
        <li>
          <a href = "globals.h">globals.h</a>, an include file.
        </li>
        <li>
          <a href = "print_results.f">print_results.f</a>,
          prints the benchmarking results.
        </li>
        <li>
          <a href = "randdp.f">randdp.f</a>, a double precision random number generator.
        </li>
        <li>
          <a href = "timers.f">timers.f</a>, interfaces to the timing routine.
        </li>
        <li>
          <a href = "wtime.c">wtime.c</a>, a small routine used for timing.
        </li>
        <li>
          <a href = "wtime.h">wtime.h</a>, an include file for WTIME.
        </li>
      </ul>
    </p>

    <h3 align = "center">
      Examples and tests:
    </h3>

    <p>
      <b>MG_SERIAL_S</b> runs the benchmark in serial mode with problem size S.
      <ul>
        <li>
          <a href = "npbparams_S.h">nbparams_S.h</a>,
          the include file.
        </li>
        <li>
          <a href = "mg_serial_S.sh">mg_serial_S.sh</a>,
          a script which compiles the code.
        </li>
        <li>
          <a href = "mg_serial_S_output.txt">mg_serial_S_output.txt</a>,
          the output file.
        </li>
      </ul>
    </p>

    <p>
      <b>MG_SERIAL_W</b> runs the benchmark in serial mode with problem size W.
      <ul>
        <li>
          <a href = "npbparams_W.h">nbparams_W.h</a>,
          the include file.
        </li>
        <li>
          <a href = "mg_serial_W.sh">mg_serial_W.sh</a>,
          a script which compiles the code.
        </li>
        <li>
          <a href = "mg_serial_W_output.txt">mg_serial_W_output.txt</a>,
          the output file.
        </li>
      </ul>
    </p>

    <p>
      <b>MG_SERIAL_A</b> runs the benchmark in serial mode with problem size A.
      <ul>
        <li>
          <a href = "npbparams_A.h">nbparams_A.h</a>,
          the include file.
        </li>
        <li>
          <a href = "mg_serial_A.sh">mg_serial_A.sh</a>,
          a script which compiles the code.
        </li>
        <li>
          <a href = "mg_serial_A_output.txt">mg_serial_A_output.txt</a>,
          the output file.
        </li>
      </ul>
    </p>

    <p>
      <b>MG_SERIAL_B</b> runs the benchmark in serial mode with problem size B.
      <ul>
        <li>
          <a href = "npbparams_B.h">nbparams_B.h</a>,
          the include file.
        </li>
        <li>
          <a href = "mg_serial_B.sh">mg_serial_B.sh</a>,
          a script which compiles the code.
        </li>
        <li>
          <a href = "mg_serial_B_output.txt">mg_serial_B_output.txt</a>,
          the output file.
        </li>
      </ul>
    </p>

    <p>
      <b>MG_SERIAL_C</b> runs the benchmark in serial mode with problem size C.
      <ul>
        <li>
          <a href = "npbparams_C.h">nbparams_C.h</a>,
          the include file.
        </li>
        <li>
          <a href = "mg_serial_C.sh">mg_serial_C.sh</a>,
          a script which compiles the code.
        </li>
        <li>
          <a href = "mg_serial_C_output.txt">mg_serial_C_output.txt</a>,
          the output file.
        </li>
      </ul>
    </p>

    <h3 align = "center">
      List of Routines:
    </h3>

    <p>
      <ul>
        <li>
          <b>MG</b> is the main program.
        </li>
        <li>
          <b>BUBBLE</b> does a bubble sort in direction dir
        </li>
        <li>
          <b>COMM3</b> organizes the communication on all borders 
        </li>
        <li>
          <b>ELAPSED_TIME</b> returns a wall clock reading.
        </li>
        <li>
          <b>INTERP</b> adds the coarse grid correction to the current approximation.
        </li>
        <li>
          <b>MG3P</b> is the multigrid V-cycle routine.
        </li>
        <li>
          <b>NORM2U3</b> approximates the L2 and uniform norms.
        </li>
        <li>
          <b>POWER</b> raises an integer to an integer power.
        </li>
        <li>
          <b>PRINT_RESULTS</b> prints benchmarking information.
        </li>
        <li>
          <b>PSINV</b> applies an approximate inverse as smoother:  u = u + Cr
        </li>
        <li>
          <b>RANDLC</b> returns a uniform pseudorandom double precision value.
        </li>
        <li>
          <b>REP_NRM</b> reports on the norms.
        </li>
        <li>
          <b>RESID</b> computes the residual:  r = v - Au
        </li>
        <li>
          <b>RPRJ3</b> projects onto the next coarser grid.
        </li>
        <li>
          <b>SETUP</b> does initialization.
        </li>
        <li>
          <b>SHOWALL</b> prints a 3D array, or a portion of it.
        </li>
        <li>
          <b>TIMER_CLEAR</b> clears the timer for the N-th event.
        </li>
        <li>
          <b>TIMER_READ</b> gets the timing of the N-th event.
        </li>
        <li>
          <b>TIMER_START</b> starts the timer for the N-th event.
        </li>
        <li>
          <b>TIMER_STOP</b> stops the timer for the N-th event.
        </li>
        <li>
          <b>VRANLC</b> returns a vector of uniform pseudorandom double precision values.
        </li>
        <li>
          <b>ZERO3</b> zeros out a 3D array.
        </li>
        <li>
          <b>ZRAN3</b> applies a random perturbation.
        </li>
      </ul>
    </p>

    <p>
      You can go up one level to <a href = "../f77_src.html">
      the FORTRAN77 source codes</a>.
    </p>

    <hr>

    <i>
      Last revised on 29 May 2012.
    </i>

    <!-- John Burkardt -->

  </body>

  <!-- Initial HTML skeleton created by HTMLINDEX. -->

</html>
